<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [steampress-svn-tracker] r83 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/steampress-svn-tracker/2005-November/index.html" >
   <LINK REL="made" HREF="mailto:steampress-svn-tracker%40lists.berlios.de?Subject=Re%3A%20%5Bsteampress-svn-tracker%5D%20r83%20-%20trunk&In-Reply-To=%3C200511090526.jA95QxmJ000813%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000038.html">
   <LINK REL="Next"  HREF="000040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[steampress-svn-tracker] r83 - trunk</H1>
    <B>steampress-svn-tracker-admin at lists.berlios.de</B> 
    <A HREF="mailto:steampress-svn-tracker%40lists.berlios.de?Subject=Re%3A%20%5Bsteampress-svn-tracker%5D%20r83%20-%20trunk&In-Reply-To=%3C200511090526.jA95QxmJ000813%40sheep.berlios.de%3E"
       TITLE="[steampress-svn-tracker] r83 - trunk">steampress-svn-tracker-admin at lists.berlios.de
       </A><BR>
    <I>Wed Nov  9 06:26:59 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000038.html">[steampress-svn-tracker] r82 - trunk
</A></li>
        <LI>Next message: <A HREF="000040.html">[steampress-svn-tracker] r84 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: steamedpenguin
Date: 2005-11-09 06:26:59 +0100 (Wed, 09 Nov 2005)
New Revision: 83

Modified:
   trunk/wp-rdf.php
Log:
clean brackets. Add brackets. Whitespace makes code legible. get rid of 'if (): endif;'

Modified: trunk/wp-rdf.php
===================================================================
--- trunk/wp-rdf.php	2005-11-09 05:15:13 UTC (rev 82)
+++ trunk/wp-rdf.php	2005-11-09 05:26:59 UTC (rev 83)
@@ -1,10 +1,11 @@
 &lt;?php /* RDF 1.0 generator, original version by <A HREF="https://lists.berlios.de/mailman/listinfo/steampress-svn-tracker">garym at teledyn.com</A> */
 
-if (empty($feed)) {
-    $blog = 1; // enter your blog's ID
-		$feed = 'rdf';
-    $doing_rss = 1;
-    require('wp-blog-header.php');
+if (empty($feed))
+{
+	$blog = 1; // enter your blog's ID
+	$feed = 'rdf';
+	$doing_rss = 1;
+	require('wp-blog-header.php');
 }
 
 header('Content-type: application/rdf+xml; charset=' . get_settings('blog_charset'), true);
@@ -12,7 +13,7 @@
 
 ?&gt;
 &lt;?php echo '&lt;?xml version=&quot;1.0&quot; encoding=&quot;'.get_settings('blog_charset').'&quot;?'.'&gt;'; ?&gt;
-&lt;!-- generator=&quot;wordpress/&lt;?php echo $wp_version ?&gt;&quot; --&gt;
+&lt;!-- generator=&quot;steampress/&lt;?php echo $wp_version ?&gt;&quot; --&gt;
 &lt;rdf:RDF
 	xmlns=&quot;<A HREF="http://purl.org/rss/1.0/">http://purl.org/rss/1.0/</A>&quot;
 	xmlns:rdf=&quot;<A HREF="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</A>&quot;
@@ -32,26 +33,60 @@
 	&lt;sy:updateBase&gt;2000-01-01T12:00+00:00&lt;/sy:updateBase&gt;
 	&lt;items&gt;
 		&lt;rdf:Seq&gt;
-		&lt;?php $items_count = 0; if ($posts) { foreach ($posts as $post) { start_wp(); ?&gt;
+&lt;?php
+$items_count = 0;
+if ($posts)
+{
+	foreach ($posts as $post)
+	{
+		start_wp();
+?&gt;
 			&lt;rdf:li rdf:resource=&quot;&lt;?php permalink_single_rss() ?&gt;&quot;/&gt;
-		&lt;?php $wp_items[] = $row; $items_count++; if (($items_count == get_settings('posts_per_rss')) &amp;&amp; empty($m)) { break; } } } ?&gt;
+&lt;?php
+		$wp_items[] = $row;
+		$items_count++;
+		if (($items_count == get_settings('posts_per_rss')) &amp;&amp; empty($m))
+		{
+			break;
+		}
+	}
+}
+?&gt;
 		&lt;/rdf:Seq&gt;
 	&lt;/items&gt;
 &lt;/channel&gt;
-&lt;?php if ($posts) { foreach ($posts as $post) { start_wp(); ?&gt;
+&lt;?php
+if ($posts)
+{
+	foreach ($posts as $post)
+	{
+		start_wp();
+?&gt;
 &lt;item rdf:about=&quot;&lt;?php permalink_single_rss() ?&gt;&quot;&gt;
 	&lt;title&gt;&lt;?php the_title_rss() ?&gt;&lt;/title&gt;
 	&lt;link&gt;&lt;?php permalink_single_rss() ?&gt;&lt;/link&gt;
-	 &lt;dc:date&gt;&lt;?php echo mysql2date('Y-m-d\TH:i:s\Z', $post-&gt;post_date_gmt, false); ?&gt;&lt;/dc:date&gt;
+	&lt;dc:date&gt;&lt;?php echo mysql2date('Y-m-d\TH:i:s\Z', $post-&gt;post_date_gmt, false); ?&gt;&lt;/dc:date&gt;
 	&lt;dc:creator&gt;&lt;?php the_author() ?&gt;&lt;/dc:creator&gt;
 	&lt;?php the_category_rss('rdf') ?&gt;
-&lt;?php if (get_settings('rss_use_excerpt')) : ?&gt;
+&lt;?php
+		if (get_settings('rss_use_excerpt'))
+		{
+?&gt;
 	&lt;description&gt;&lt;?php the_excerpt_rss() ?&gt;&lt;/description&gt;
-&lt;?php else : ?&gt;
+&lt;?php
+		}
+		else
+		{
+?&gt;
 	&lt;description&gt;&lt;?php the_content_rss('', 0, '', get_settings('rss_excerpt_length'), 2) ?&gt;&lt;/description&gt;
 	&lt;content:encoded&gt;&lt;![CDATA[&lt;?php the_content('', 0, '') ?&gt;]]&gt;&lt;/content:encoded&gt;
-&lt;?php endif; ?&gt;
-	
+&lt;?php
+		}
+?&gt;
+
 &lt;/item&gt;
-&lt;?php } }  ?&gt;
+&lt;?php
+	}
+}
+?&gt;
 &lt;/rdf:RDF&gt;
\ No newline at end of file


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000038.html">[steampress-svn-tracker] r82 - trunk
</A></li>
	<LI>Next message: <A HREF="000040.html">[steampress-svn-tracker] r84 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39">[ date ]</a>
              <a href="thread.html#39">[ thread ]</a>
              <a href="subject.html#39">[ subject ]</a>
              <a href="author.html#39">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/steampress-svn-tracker">More information about the steampress-svn-tracker
mailing list</a><br>
</body></html>
