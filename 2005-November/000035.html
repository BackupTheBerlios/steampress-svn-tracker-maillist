<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [steampress-svn-tracker] r79 - trunk
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/steampress-svn-tracker/2005-November/index.html" >
   <LINK REL="made" HREF="mailto:steampress-svn-tracker%40lists.berlios.de?Subject=Re%3A%20%5Bsteampress-svn-tracker%5D%20r79%20-%20trunk&In-Reply-To=%3C200511090502.jA952Sm4030208%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000034.html">
   <LINK REL="Next"  HREF="000036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[steampress-svn-tracker] r79 - trunk</H1>
    <B>steampress-svn-tracker-admin at lists.berlios.de</B> 
    <A HREF="mailto:steampress-svn-tracker%40lists.berlios.de?Subject=Re%3A%20%5Bsteampress-svn-tracker%5D%20r79%20-%20trunk&In-Reply-To=%3C200511090502.jA952Sm4030208%40sheep.berlios.de%3E"
       TITLE="[steampress-svn-tracker] r79 - trunk">steampress-svn-tracker-admin at lists.berlios.de
       </A><BR>
    <I>Wed Nov  9 06:02:28 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000034.html">[steampress-svn-tracker] r78 - trunk
</A></li>
        <LI>Next message: <A HREF="000036.html">[steampress-svn-tracker] r80 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35">[ date ]</a>
              <a href="thread.html#35">[ thread ]</a>
              <a href="subject.html#35">[ subject ]</a>
              <a href="author.html#35">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: steamedpenguin
Date: 2005-11-09 06:02:22 +0100 (Wed, 09 Nov 2005)
New Revision: 79

Modified:
   trunk/wp-rss2.php
Log:
Cleaned more 'if: endif;' crap. clean brackets. Add brackets. Whitespace makes code legible.

Modified: trunk/wp-rss2.php
===================================================================
--- trunk/wp-rss2.php	2005-11-08 22:47:29 UTC (rev 78)
+++ trunk/wp-rss2.php	2005-11-09 05:02:22 UTC (rev 79)
@@ -1,6 +1,7 @@
 &lt;?php
 
-if (empty($feed)) {
+if (empty($feed))
+{
 	$blog = 1;
 	$feed = 'rss2';
 	$doing_rss = 1;
@@ -13,8 +14,8 @@
 ?&gt;
 &lt;?php echo '&lt;?xml version=&quot;1.0&quot; encoding=&quot;'.get_settings('blog_charset').'&quot;?'.'&gt;'; ?&gt;
 
-&lt;!-- generator=&quot;wordpress/&lt;?php bloginfo_rss('version') ?&gt;&quot; --&gt;
-&lt;rss version=&quot;2.0&quot; 
+&lt;!-- generator=&quot;steampress/&lt;?php bloginfo_rss('version') ?&gt;&quot; --&gt;
+&lt;rss version=&quot;2.0&quot;
 	xmlns:content=&quot;<A HREF="http://purl.org/rss/1.0/modules/content/">http://purl.org/rss/1.0/modules/content/</A>&quot;
 	xmlns:wfw=&quot;<A HREF="http://wellformedweb.org/CommentAPI/">http://wellformedweb.org/CommentAPI/</A>&quot;
 	xmlns:dc=&quot;<A HREF="http://purl.org/dc/elements/1.1/">http://purl.org/dc/elements/1.1/</A>&quot;
@@ -28,7 +29,14 @@
 	&lt;generator&gt;<A HREF="http://wordpress.org/?v=&lt;?php">http://wordpress.org/?v=&lt;?php</A> bloginfo_rss('version'); ?&gt;&lt;/generator&gt;
 	&lt;language&gt;&lt;?php echo get_option('rss_language'); ?&gt;&lt;/language&gt;
 
-	&lt;?php $items_count = 0; if ($posts) { foreach ($posts as $post) { start_wp(); ?&gt;
+&lt;?php
+$items_count = 0;
+if ($posts)
+{
+	foreach ($posts as $post)
+	{
+		start_wp();
+?&gt;
 	&lt;item&gt;
 		&lt;title&gt;&lt;?php the_title_rss() ?&gt;&lt;/title&gt;
 		&lt;link&gt;&lt;?php permalink_single_rss() ?&gt;&lt;/link&gt;
@@ -38,19 +46,46 @@
 		&lt;?php the_category_rss() ?&gt;
 
 		&lt;guid&gt;&lt;?php the_permalink($id); ?&gt;&lt;/guid&gt;
-&lt;?php if (get_settings('rss_use_excerpt')) : ?&gt;
+&lt;?php
+		if (get_settings('rss_use_excerpt'))
+		{
+?&gt;
 		&lt;description&gt;&lt;![CDATA[&lt;?php the_excerpt_rss() ?&gt;]]&gt;&lt;/description&gt;
-&lt;?php else : ?&gt;
+&lt;?php
+		}
+		else
+		{
+?&gt;
 		&lt;description&gt;&lt;![CDATA[&lt;?php the_excerpt_rss() ?&gt;]]&gt;&lt;/description&gt;
-	&lt;?php if ( strlen( $post-&gt;post_content ) &gt; 0 ) : ?&gt;
+&lt;?php
+			if ( strlen( $post-&gt;post_content ) &gt; 0 )
+			{
+?&gt;
 		&lt;content:encoded&gt;&lt;![CDATA[&lt;?php the_content('', 0, '') ?&gt;]]&gt;&lt;/content:encoded&gt;
-	&lt;?php else : ?&gt;
+&lt;?php
+			}
+			else
+			{
+?&gt;
 		&lt;content:encoded&gt;&lt;![CDATA[&lt;?php the_excerpt_rss() ?&gt;]]&gt;&lt;/content:encoded&gt;
-	&lt;?php endif; ?&gt;
-&lt;?php endif; ?&gt;
+&lt;?php
+			}
+?&gt;
+&lt;?php
+		}
+?&gt;
 		&lt;wfw:commentRSS&gt;&lt;?php echo comments_rss(); ?&gt;&lt;/wfw:commentRSS&gt;
 &lt;?php rss_enclosure(); ?&gt;
 	&lt;/item&gt;
-	&lt;?php $items_count++; if (($items_count == get_settings('posts_per_rss')) &amp;&amp; empty($m)) { break; } } } ?&gt;
+
+&lt;?php
+		$items_count++;
+		if (($items_count == get_settings('posts_per_rss')) &amp;&amp; empty($m))
+		{
+			break;
+		}
+	}
+}
+?&gt;
 &lt;/channel&gt;
 &lt;/rss&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000034.html">[steampress-svn-tracker] r78 - trunk
</A></li>
	<LI>Next message: <A HREF="000036.html">[steampress-svn-tracker] r80 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35">[ date ]</a>
              <a href="thread.html#35">[ thread ]</a>
              <a href="subject.html#35">[ subject ]</a>
              <a href="author.html#35">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/steampress-svn-tracker">More information about the steampress-svn-tracker
mailing list</a><br>
</body></html>
